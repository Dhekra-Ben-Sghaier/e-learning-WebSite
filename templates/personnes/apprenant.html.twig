{% extends 'base.html.twig' %}

{% block body %}
    <link href="{{ asset("css/form.css") }}" rel="stylesheet">
     <div class="login-wrap">
   <div class="login-html">
            <input id="tab-1" type="radio" name="tab"    class="sign-in" checked><label for="tab-1"   class="tab">Sign In</label>
            <input id="tab-2" type="radio" name="tab"     class="sign-up"><label for="tab-2"   class="tab">Sign Up</label>
            <div class="login-form">
                  <div class="sign-up-htm">

                      {{ form_start(form,{'attr': {'novalidate': 'novalidate'}} ) }}
    <table  style="width:100%;margin-right:40%">
        <tr class="group">
            <td class="label"> {{form_label(form.role)}}</td>
            <td> {{form_widget(form.role,{'attr': {'class': 'form-control'}})}}</td>

        </tr>
        <tr class="group">
            <td class="label"> {{form_label(form.cin)}}</td>
            <td>{{form_widget(form.cin,{'attr': {'class': 'form-control'}})}}</td>


        </tr>
        <tr class="group">
            <td class="label" > {{form_label(form.nom)}}</td>
            <td > {{form_widget(form.nom,{'attr': {'class': 'form-control'}})}}</td>


        </tr>
        <tr class="group">
            <td class="label"> {{form_label(form.prenom)}}</td>
            <td> {{form_widget(form.prenom,{'attr': {'class': 'form-control'}})}}</td>


        </tr>
        <tr class="group">
            <td class="label"> {{form_label(form.email)}}</td>
            <td> {{form_widget(form.email,{'attr': {'class': 'form-control'}})}}</td>

        </tr>

        <tr class="group">
            <td class="label"> {{form_label(form.plainPassword,'Password')}}</td>
            <td> {{form_widget(form.plainPassword,{'attr': {'class': 'form-control'}})}}</td>


        </tr>
        <tr class="group">
            <td class="label"> {{form_label(form.nomutilisateur)}}</td>
            <td> {{form_widget(form.nomutilisateur,{'attr': {'class': 'form-control'}})}}</td>


        </tr>
        <tr class="group">
            <td class="label"> {{form_label(form.centreinteret)}}</td>
            <td> {{form_widget(form.centreinteret,{'attr': {'class': 'form-control'}})}}</td>

        </tr>
    </table>
                      <button type="submit" class="button" >S'inscrire</button>
                  </div>
    </div>

   </div>
     </div>

    {{ form_end(form) }}

{% endblock %}

{% block script %}
<script src="">
    var app = angular.module('login', []);


    app.controller('loginCtrl',function($scope,$timeout){

        var user = {
            'login': 'admin',
            'pwd': 'admin'
        };

        $scope.ui = {
            'shake' :false
        };

        $scope.loginaction = function(){
            if($scope.login == user.login && $scope.pwd == user.pwd){
                $scope.alert = {
                    type: 'good',
                    message: 'Welcome ! Your are logged ' + user.login
                };
                console.log($scope.alert);
            }
            else{

                $scope.ui.shake = true;
                console.log($scope.alert);
            }
            $scope.$watch( $scope.ui.shake  ,function(newValue, oldValue){
                if($scope.ui.shake == true){
                    $timeout(function(){
                        $scope.ui.shake = false;
                    }, 1000);
                }
            });
        };


    });

</script>
{% endblock %}